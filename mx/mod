dep(prefix:ci)
cpp(20)

#cxxflags(
#    +@-Wno-writable-strings
#    +@-Wno-pointer-bool-conversion
#    +@-ffunction-sections
#    +@-fdata-sections)

#if(NOT DEBUG)
#    cxxflags(-@-Wl,--gc-sections)
#endif()

cxxflags(
    +@-Wno-writable-strings
    +@-Wno-pointer-bool-conversion)

if (win)
    dep(@libucrt @libvcruntime @libcmt)
    # erroneous warnings about virtual functions we dont have
    cxxflags(/MT +-Wno-delete-non-abstract-non-virtual-dtor +-Wno-macro-redefined)
else()
    if (clang)
        cxxflags(
            +-Wno-pointer-bool-conversion
            +-Wno-ambiguous-reversed-operator
            +-Wno-deprecated-volatile
        )
    endif()
endif()
